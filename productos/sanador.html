<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Diseños Frey</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        fondo: '#edc4dc65'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-fondo min-h-screen flex flex-col" data-product="providencia">

<!-- HEADER -->
<header class="sticky top-0 bg-fondo z-50 py-4 text-center">
    <a href="../index.html" class="inline-block">
        <h1 class="text-2xl md:text-3xl font-bold cursor-pointer hover:opacity-80 transition">
            Diseños Frey
        </h1>
    </a>
</header>

<!-- CONTENEDOR PRINCIPAL -->
<main class="flex-1 w-full px-4 md:px-8 py-6">

<div class="grid gap-4 w-full h-full grid-cols-1 md:grid-cols-5 md:grid-rows-7">

<!-- GALERÍA / CARRUSEL -->
<section class="
    bg-white rounded shadow
    flex items-center justify-center
    md:col-span-2 md:row-span-6
    overflow-hidden
">
    <img
        id="carousel"
        src="../img/providencia.png"
        alt="Vestido Niño Dios"
        class="w-full h-full object-contain select-none transition-transform duration-150"
        style="touch-action:none;"
    >
</section>

<!-- NOMBRE -->
<section class="
    bg-white rounded shadow
    flex items-center justify-center
    font-semibold
    text-2xl md:text-4xl
    leading-none
    text-center
    px-2
    md:col-span-3
">
        Divina Providencia
</section>

<!-- TALLAS -->
<div class="grid grid-cols-3 gap-2 md:contents">
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="12">12</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="15">15</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="20">20</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="25">25</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="30">30</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="35">35</button>
    <button class="size-btn bg-white rounded shadow flex items-center justify-center text-2xl md:text-3xl leading-none font-semibold w-full h-full" data-size="40">40</button>
</div>

<!-- PRECIO -->
<section class="
    bg-white rounded shadow
    flex items-center justify-center
    text-2xl md:text-3xl
    leading-none
    font-bold
    gap-2
    md:col-span-2 md:col-start-3 md:row-start-6
">
    <span>Precio:</span>
    <span id="price">$0</span>
</section>

<!-- WHATSAPP -->
<a
    href="https://wa.me/message/BQCIRKGSBALPO1"
    target="_blank"
    class="
        bg-green-500 text-white rounded shadow
        flex items-center justify-center text-center
        font-semibold p-4
        hover:bg-green-600 transition
        md:col-span-3 md:col-start-3 md:row-start-7
    "
>
    Consulte disponibilidad y termine su pedido
</a>

<!-- LEYENDA -->
<section class="
    bg-white rounded shadow
    flex items-center justify-center
    text-center
    text-base md:text-lg
    leading-snug
    px-4
    md:col-span-2 md:col-start-1 md:row-start-7
">
    Todos los vestiditos llevan sus accesorios necesarios para su vestimenta
    (no incluye sillita donde sentar)
</section>

</div>
</main>

<!-- JS CARRUSEL + ZOOM -->
<script>
const images = ["../img/sanador.png"];
let index = 0;
let paused = false;
let scale = 1;
const minScale = 1;
const maxScale = 6;
const img = document.getElementById("carousel");

setInterval(() => {
    if (paused) return;
    index = (index + 1) % images.length;
    img.src = images[index];
}, 4000);

img.addEventListener("wheel", e => {
    e.preventDefault();
    paused = true;
    scale += e.deltaY * -0.003;
    scale = Math.min(Math.max(minScale, scale), maxScale);
    img.style.transform = `scale(${scale})`;
}, { passive:false });

let lastDistance = null;

img.addEventListener("touchmove", e => {
    if (e.touches.length === 2) {
        e.preventDefault();
        paused = true;
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const distance = Math.hypot(dx, dy);

        if (lastDistance) {
            scale += (distance - lastDistance) * 0.015;
            scale = Math.min(Math.max(minScale, scale), maxScale);
            img.style.transform = `scale(${scale})`;
        }
        lastDistance = distance;
    }
});

img.addEventListener("touchend", () => lastDistance = null);

img.addEventListener("dblclick", () => {
    scale = 1;
    img.style.transform = "scale(1)";
    paused = false;
});
</script>

<script src="js/prices.js"></script>

</body>
</html>
